/**
 * NEXUS OS - Modern Fallout Theme v2.0
 * "Pip-Boy designed in 2026"
 * Sterile modern web interfaces (Apple, Linear) + retro-futurism
 */

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;500;600&display=swap');

/* =====================
   CSS VARIABLES
===================== */
:root {
  /* Dark Theme Colors */
  --nexus-void: #050505;
  --nexus-black: #0a0a0a;
  --nexus-surface: #0f0f0f;
  --nexus-border: #1a1a1a;
  --nexus-border-light: #2a2a2a;

  --nexus-green: #00ff41;
  --nexus-green-dim: rgba(0, 255, 65, 0.6);
  --nexus-green-dark: rgba(0, 255, 65, 0.3);
  --nexus-amber: #FFB000;

  --nexus-text: #E0E0E0;
  --nexus-text-dim: #9a9a9a;
  --nexus-text-darker: #6a6a6a;

  /* Typography */
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  /* Effects */
  --glow-soft: 0 0 8px rgba(0, 255, 65, 0.4);
  --glow-medium: 0 0 12px rgba(0, 255, 65, 0.5);
  --glow-strong: 0 0 16px rgba(0, 255, 65, 0.6);
  --text-glow: 0 0 8px rgba(0, 255, 65, 0.6);

  --radius: 24px;
  --radius-sm: 12px;
  --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Light Theme */
[data-theme="light"] {
  --nexus-void: #f5f5f5;
  --nexus-black: #ffffff;
  --nexus-surface: #fafafa;
  --nexus-border: #e0e0e0;
  --nexus-border-light: #d0d0d0;

  --nexus-green: #00aa33;
  --nexus-green-dim: rgba(0, 170, 51, 0.7);
  --nexus-green-dark: rgba(0, 170, 51, 0.4);
  --nexus-amber: #ff9800;

  --nexus-text: #1a1a1a;
  --nexus-text-dim: #5a5a5a;
  --nexus-text-darker: #8a8a8a;

  --glow-soft: 0 0 8px rgba(0, 170, 51, 0.3);
  --glow-medium: 0 0 12px rgba(0, 170, 51, 0.4);
  --glow-strong: 0 0 16px rgba(0, 170, 51, 0.5);
  --text-glow: 0 0 5px rgba(0, 170, 51, 0.4);
}

/* =====================
   RESET & BASE
===================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-mono);
  background: var(--nexus-void);
  color: var(--nexus-text);
  line-height: 1.6;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Scanline Effect - Тонкая сканирующая линия */
body::before {
  content: '';
  position: fixed;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(to bottom,
    transparent,
    rgba(0, 255, 65, 0.1),
    transparent
  );
  pointer-events: none;
  z-index: 9999;
  animation: scan 4s linear infinite;
}

[data-theme="light"] body::before {
  background: linear-gradient(to bottom,
    transparent,
    rgba(0, 170, 51, 0.15),
    transparent
  );
}

@keyframes scan {
  0% { top: 0; opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { top: 100%; opacity: 0; }
}

/* Subtle grain texture */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='6.5' numOctaves='1' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9998;
  opacity: 0.3;
}

[data-theme="light"] body::after {
  opacity: 0.15;
}

/* =====================
   HEADER
===================== */
header {
  background: var(--nexus-black);
  padding: 24px 32px;
  border-bottom: 1px solid var(--nexus-border);
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(20px);
  background: rgba(10, 10, 10, 0.8);
}

.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

.header-branding {
  flex: 1;
}

.header-controls {
  display: flex;
  gap: 12px;
  align-items: center;
}

h1 {
  font-family: var(--font-mono);
  font-size: 1.5rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 6px;
  color: var(--nexus-green);
  text-shadow: var(--text-glow);
  margin-bottom: 4px;
}

header p {
  font-family: var(--font-mono);
  font-size: 10px;
  letter-spacing: 3px;
  color: var(--nexus-text-dim);
  text-transform: uppercase;
}

/* Icon buttons (theme toggle, hamburger) */
.icon-btn {
  background: transparent;
  border: 1px solid var(--nexus-border);
  color: var(--nexus-text);
  padding: 10px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: var(--transition);
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
}

.icon-btn:hover {
  border-color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

/* Hamburger Menu Button */
.hamburger {
  flex-direction: column;
  gap: 5px;
  padding: 8px;
}

.hamburger span {
  display: block;
  width: 22px;
  height: 2px;
  background: var(--nexus-text);
  transition: var(--transition);
  border-radius: 2px;
}

.hamburger:hover span {
  background: var(--nexus-green);
}

/* Hamburger Animation - when menu is open */
.hamburger.active span:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.hamburger.active span:nth-child(2) {
  opacity: 0;
}

.hamburger.active span:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

/* =====================
   NAVIGATION
===================== */
nav {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 20px;
  max-height: 500px;
  overflow: hidden;
  transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
  opacity: 1;
}

nav.nav-closed {
  max-height: 0;
  opacity: 0;
  margin-top: 0;
}

nav button {
  background: transparent;
  color: var(--nexus-text);
  border: 1px solid var(--nexus-border);
  padding: 10px 20px;
  font-family: var(--font-mono);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 2px;
  cursor: pointer;
  transition: var(--transition);
  border-radius: var(--radius-sm);
  position: relative;
  overflow: hidden;
}

nav button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent,
    rgba(0, 255, 65, 0.1),
    transparent
  );
  transition: var(--transition);
}

nav button:hover::before {
  left: 100%;
}

nav button:hover {
  border-color: var(--nexus-green);
  color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

nav button.active {
  background: rgba(0, 255, 65, 0.1);
  border-color: var(--nexus-green);
  color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

/* =====================
   BENTO GRID LAYOUT
===================== */
.bento-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  padding: 32px;
  max-width: 1400px;
  margin: 0 auto;
}

.bento-item {
  background: var(--nexus-black);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius);
  padding: 24px;
  position: relative;
  transition: var(--transition);
  backdrop-filter: blur(10px);

  /* Координатная сетка */
  background-image: radial-gradient(circle, var(--nexus-border-light) 1px, transparent 1px);
  background-size: 20px 20px;
  background-position: 0 0;
}

.bento-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: var(--radius);
  padding: 1px;
  background: linear-gradient(135deg,
    var(--nexus-green-dark),
    transparent,
    var(--nexus-green-dark)
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: var(--transition);
}

.bento-item:hover::before {
  opacity: 1;
}

.bento-item:hover {
  box-shadow: 0 8px 32px rgba(0, 255, 65, 0.1);
  transform: translateY(-4px);
}

/* Technical marker */
.bento-item::after {
  content: attr(data-module);
  position: absolute;
  top: 12px;
  right: 12px;
  font-size: 8px;
  color: var(--nexus-text-darker);
  letter-spacing: 1px;
  font-family: var(--font-mono);
}

/* Bento Grid Sizes */
.bento-large {
  grid-column: span 2;
  grid-row: span 2;
}

.bento-wide {
  grid-column: span 2;
}

.bento-tall {
  grid-row: span 2;
}

/* =====================
   CARDS & SECTIONS
===================== */
.card {
  background: var(--nexus-black);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius);
  padding: 24px;
  margin-bottom: 24px;
  position: relative;

  /* Координатная сетка */
  background-image: radial-gradient(circle, var(--nexus-border-light) 1px, transparent 1px);
  background-size: 20px 20px;
}

.section {
  padding: 32px;
  max-width: 1200px;
  margin: 0 auto;
}

h2 {
  font-family: var(--font-mono);
  font-size: 1.5rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 4px;
  margin-bottom: 24px;
  color: var(--nexus-green);
  text-shadow: var(--text-glow);
  border-bottom: 1px solid var(--nexus-border);
  padding-bottom: 12px;
}

h3 {
  font-family: var(--font-mono);
  font-size: 1.1rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 16px;
  color: var(--nexus-text);
}

/* =====================
   FORMS
===================== */
form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

label {
  text-transform: uppercase;
  font-size: 10px;
  letter-spacing: 2px;
  color: var(--nexus-text-dim);
  margin-bottom: 8px;
  font-family: var(--font-mono);
}

input, select, textarea {
  background: var(--nexus-surface);
  border: 1px solid var(--nexus-border);
  color: var(--nexus-text);
  padding: 12px 16px;
  font-family: var(--font-mono);
  font-size: 13px;
  transition: var(--transition);
  border-radius: var(--radius-sm);
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--nexus-green);
  box-shadow: 0 0 0 3px rgba(0, 255, 65, 0.1);
}

input::placeholder {
  color: var(--nexus-text-darker);
  opacity: 1;
}

/* =====================
   BUTTONS
===================== */
button, .btn {
  background: transparent;
  color: var(--nexus-text);
  border: 1px solid var(--nexus-border);
  padding: 12px 24px;
  font-family: var(--font-mono);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 2px;
  cursor: pointer;
  transition: var(--transition);
  border-radius: var(--radius-sm);
  position: relative;
  overflow: hidden;
}

button::before, .btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(0, 255, 65, 0.1);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:hover::before, .btn:hover::before {
  width: 300px;
  height: 300px;
}

button:hover, .btn:hover {
  border-color: var(--nexus-green);
  color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

button:active, .btn:active {
  transform: translateY(1px);
}

.btn-delete {
  border-color: #ff4444;
  color: #ff4444;
  padding: 8px 12px;
  font-size: 10px;
}

.btn-delete:hover {
  background: rgba(255, 68, 68, 0.1);
  border-color: #ff6666;
  box-shadow: 0 0 12px rgba(255, 68, 68, 0.3);
}

.btn-edit {
  border-color: var(--nexus-border-light);
  color: var(--nexus-text-dim);
  padding: 8px 12px;
  font-size: 10px;
}

.btn-edit:hover {
  border-color: var(--nexus-green);
  color: var(--nexus-green);
}

.btn-complete {
  background: rgba(0, 255, 65, 0.15);
  border-color: var(--nexus-green);
  color: var(--nexus-green);
  padding: 8px 12px;
  font-size: 10px;
  font-weight: 600;
}

.btn-complete:hover {
  background: rgba(0, 255, 65, 0.25);
  box-shadow: var(--glow-medium);
}

/* =====================
   LISTS
===================== */
ul {
  list-style: none;
}

.list-item {
  background: var(--nexus-surface);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius-sm);
  padding: 16px;
  margin-bottom: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: var(--transition);
}

.list-item:hover {
  border-color: var(--nexus-border-light);
  background: var(--nexus-black);
}

.list-item-content {
  flex: 1;
  font-family: var(--font-mono);
  font-size: 13px;
}

.list-item-date {
  color: var(--nexus-text-dim);
  font-size: 11px;
  margin-right: 12px;
}

.list-item-actions {
  display: flex;
  gap: 8px;
}

/* =====================
   STATS DISPLAY
===================== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
  margin-top: 20px;
}

.stat-card {
  background: var(--nexus-surface);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius-sm);
  padding: 20px;
  text-align: center;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg,
    transparent,
    var(--nexus-green),
    transparent
  );
  opacity: 0;
  transition: var(--transition);
}

.stat-card:hover::before {
  opacity: 1;
}

.stat-card:hover {
  border-color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

.stat-name {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--nexus-text-dim);
  margin-bottom: 12px;
  font-family: var(--font-mono);
}

.stat-value {
  font-size: 2.5rem;
  font-weight: 700;
  font-family: var(--font-mono);
  color: var(--nexus-green);
  text-shadow: var(--text-glow);
  line-height: 1;
}

.stat-xp {
  font-size: 10px;
  color: var(--nexus-text-darker);
  margin-top: 12px;
  font-family: var(--font-mono);
}

/* XP Progress Bar */
.xp-bar {
  width: 100%;
  height: 4px;
  background: var(--nexus-surface);
  border: 1px solid var(--nexus-border);
  border-radius: 2px;
  margin-top: 12px;
  position: relative;
  overflow: hidden;
}

.xp-bar-fill {
  height: 100%;
  background: linear-gradient(90deg,
    var(--nexus-green-dark),
    var(--nexus-green)
  );
  box-shadow: var(--glow-soft);
  transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.xp-bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* =====================
   NOTIFICATIONS
===================== */
.notifications {
  position: fixed;
  top: 24px;
  right: 24px;
  z-index: 10000;
  max-width: 400px;
}

.notification {
  background: var(--nexus-black);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius-sm);
  padding: 16px 20px;
  margin-bottom: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  opacity: 0;
  transform: translateX(400px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(20px);
  font-family: var(--font-mono);
  font-size: 12px;
}

.notification.show {
  opacity: 1;
  transform: translateX(0);
}

.notification-success {
  border-left: 3px solid var(--nexus-green);
  color: var(--nexus-green);
}

.notification-error {
  border-left: 3px solid #ff4444;
  color: #ff4444;
}

.notification-warning {
  border-left: 3px solid var(--nexus-amber);
  color: var(--nexus-amber);
}

.notification-info {
  border-left: 3px solid var(--nexus-text-dim);
  color: var(--nexus-text);
}

/* =====================
   LEVEL UP OVERLAY
===================== */
.level-up-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  animation: fadeIn 0.3s ease;
  backdrop-filter: blur(10px);
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.level-up-content {
  text-align: center;
  animation: scaleIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes scaleIn {
  from {
    transform: scale(0.5) rotate(-5deg);
    opacity: 0;
  }
  to {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

.level-up-title {
  font-family: var(--font-mono);
  font-size: 4rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 12px;
  color: var(--nexus-green);
  text-shadow:
    0 0 20px rgba(0, 255, 65, 0.8),
    0 0 40px rgba(0, 255, 65, 0.6),
    0 0 60px rgba(0, 255, 65, 0.4);
  animation: glow-intense 1.5s ease-in-out infinite;
}

@keyframes glow-intense {
  0%, 100% {
    text-shadow:
      0 0 20px rgba(0, 255, 65, 0.8),
      0 0 40px rgba(0, 255, 65, 0.6),
      0 0 60px rgba(0, 255, 65, 0.4);
  }
  50% {
    text-shadow:
      0 0 30px rgba(0, 255, 65, 1),
      0 0 60px rgba(0, 255, 65, 0.8),
      0 0 90px rgba(0, 255, 65, 0.6);
  }
}

.level-up-stat {
  font-family: var(--font-mono);
  font-size: 1.5rem;
  margin-top: 24px;
  color: var(--nexus-text);
  letter-spacing: 4px;
}

/* =====================
   YOUTUBE LINKS
===================== */
.youtube-link {
  display: inline-block;
  padding: 6px 12px;
  background: transparent;
  color: var(--nexus-text);
  border: 1px solid var(--nexus-border);
  text-decoration: none;
  font-size: 11px;
  margin-left: 8px;
  transition: var(--transition);
  text-transform: uppercase;
  letter-spacing: 1px;
  border-radius: 6px;
  font-family: var(--font-mono);
}

.youtube-link:hover {
  border-color: var(--nexus-green);
  color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

/* =====================
   CHARTS
===================== */
canvas {
  max-width: 100%;
  background: var(--nexus-surface);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius-sm);
  padding: 16px;
}

/* =====================
   VISION BOARD
===================== */
.vision-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 24px;
  margin-top: 24px;
}

.vision-card {
  background: var(--nexus-black);
  border: 1px solid var(--nexus-border);
  border-radius: var(--radius);
  padding: 24px;
  text-align: center;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  min-height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  /* Координатная сетка */
  background-image: radial-gradient(circle, var(--nexus-border-light) 1px, transparent 1px);
  background-size: 20px 20px;
}

.vision-card:hover {
  border-color: var(--nexus-green);
  box-shadow: var(--glow-medium);
  transform: scale(1.02);
}

.vision-card.achieved {
  border-color: var(--nexus-green);
  background: rgba(0, 255, 65, 0.05);
}

.vision-card.achieved::after {
  content: 'ACHIEVED';
  position: absolute;
  top: 12px;
  right: 12px;
  font-size: 9px;
  color: var(--nexus-green);
  letter-spacing: 2px;
  font-family: var(--font-mono);
  text-shadow: var(--text-glow);
}

/* =====================
   NAVIGATION
===================== */
nav {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 16px;
}

nav button {
  background: transparent;
  color: var(--nexus-green);
  border: 2px solid var(--nexus-green);
  padding: 10px 20px;
  font-family: var(--font-mono);
  font-size: 14px;
  text-transform: uppercase;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  letter-spacing: 2px;
}

nav button::before {
  content: '[ ';
}

nav button::after {
  content: ' ]';
}

nav button:hover {
  background: var(--nexus-green);
  color: var(--nexus-black);
  box-shadow: var(--nexus-glow);
  transform: translateY(-2px);
}

nav button.active {
  background: var(--nexus-green);
  color: var(--nexus-black);
  box-shadow: var(--nexus-glow-strong);
}

/* =====================
   BENTO GRID LAYOUT
===================== */
.bento-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

.bento-item {
  background: var(--nexus-dark);
  border: 2px solid var(--nexus-green);
  padding: 20px;
  position: relative;
  transition: var(--transition);
}

.bento-item::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: var(--nexus-green);
  opacity: 0;
  transition: var(--transition);
  z-index: -1;
}

.bento-item:hover::before {
  opacity: 0.1;
}

.bento-item:hover {
  box-shadow: var(--nexus-glow);
  transform: translateY(-4px);
}

/* Bento Grid Sizes */
.bento-large {
  grid-column: span 2;
  grid-row: span 2;
}

.bento-wide {
  grid-column: span 2;
}

.bento-tall {
  grid-row: span 2;
}

/* =====================
   CARDS & SECTIONS
===================== */
.card {
  background: var(--nexus-dark);
  border: 2px solid var(--nexus-green);
  padding: 20px;
  margin-bottom: 20px;
  position: relative;
}

.card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: var(--nexus-green);
  box-shadow: var(--nexus-glow);
}

.section {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

h2 {
  font-size: 1.8rem;
  text-transform: uppercase;
  letter-spacing: 3px;
  margin-bottom: 20px;
  text-shadow: var(--nexus-text-shadow);
  border-bottom: 2px solid var(--nexus-green);
  padding-bottom: 10px;
}

h3 {
  font-size: 1.3rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 16px;
  color: var(--nexus-green);
  text-shadow: var(--nexus-text-shadow);
}

/* =====================
   FORMS
===================== */
form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

label {
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 1px;
  color: var(--nexus-green-dim);
  margin-bottom: 4px;
}

input, select, textarea {
  background: var(--nexus-black);
  border: 2px solid var(--nexus-green-dark);
  color: var(--nexus-green);
  padding: 12px;
  font-family: var(--font-mono);
  font-size: 14px;
  transition: var(--transition);
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--nexus-green);
  box-shadow: inset var(--nexus-glow);
}

input::placeholder {
  color: var(--nexus-green-dark);
  opacity: 0.6;
}

/* =====================
   BUTTONS
===================== */
button, .btn {
  background: transparent;
  color: var(--nexus-green);
  border: 2px solid var(--nexus-green);
  padding: 12px 24px;
  font-family: var(--font-mono);
  font-size: 14px;
  text-transform: uppercase;
  cursor: pointer;
  transition: var(--transition);
  letter-spacing: 2px;
}

button:hover, .btn:hover {
  background: var(--nexus-green);
  color: var(--nexus-black);
  box-shadow: var(--nexus-glow);
  transform: translateY(-2px);
}

button:active, .btn:active {
  transform: translateY(0);
}

.btn-delete {
  background: transparent;
  border-color: #ff0000;
  color: #ff0000;
  padding: 6px 12px;
  font-size: 12px;
}

.btn-delete:hover {
  background: #ff0000;
  color: white;
  box-shadow: 0 0 10px #ff0000;
}

.btn-edit {
  background: transparent;
  border-color: var(--nexus-green-dim);
  color: var(--nexus-green-dim);
  padding: 6px 12px;
  font-size: 12px;
}

.btn-complete {
  background: var(--nexus-green);
  color: var(--nexus-black);
  border: 2px solid var(--nexus-green);
  padding: 6px 12px;
  font-size: 12px;
  font-weight: bold;
}

.btn-complete:hover {
  box-shadow: var(--nexus-glow-strong);
}

/* =====================
   LISTS
===================== */
ul {
  list-style: none;
}

.list-item {
  background: var(--nexus-black);
  border: 1px solid var(--nexus-green-dark);
  padding: 16px;
  margin-bottom: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: var(--transition);
}

.list-item:hover {
  border-color: var(--nexus-green);
  box-shadow: inset 0 0 10px rgba(0, 255, 65, 0.1);
}

.list-item-content {
  flex: 1;
}

.list-item-actions {
  display: flex;
  gap: 8px;
}

/* =====================
   STATS DISPLAY
===================== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.stat-card {
  background: var(--nexus-black);
  border: 2px solid var(--nexus-green);
  padding: 20px;
  text-align: center;
  position: relative;
  transition: var(--transition);
}

.stat-card:hover {
  box-shadow: var(--nexus-glow);
}

.stat-name {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--nexus-green-dim);
  margin-bottom: 8px;
}

.stat-value {
  font-size: 2.5rem;
  font-weight: bold;
  text-shadow: var(--nexus-glow-strong);
  color: var(--nexus-green);
}

.stat-xp {
  font-size: 10px;
  color: var(--nexus-green-dark);
  margin-top: 8px;
}

/* XP Progress Bar */
.xp-bar {
  width: 100%;
  height: 6px;
  background: var(--nexus-gray);
  border: 1px solid var(--nexus-green-dark);
  margin-top: 8px;
  position: relative;
  overflow: hidden;
}

.xp-bar-fill {
  height: 100%;
  background: var(--nexus-green);
  box-shadow: var(--nexus-glow);
  transition: width 0.5s ease;
}

/* =====================
   NOTIFICATIONS
===================== */
.notifications {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 10000;
  max-width: 400px;
}

.notification {
  background: var(--nexus-dark);
  border: 2px solid var(--nexus-green);
  padding: 16px;
  margin-bottom: 12px;
  box-shadow: var(--nexus-glow);
  opacity: 0;
  transform: translateX(400px);
  transition: all 0.3s ease;
}

.notification.show {
  opacity: 1;
  transform: translateX(0);
}

.notification-success {
  border-color: var(--nexus-green);
}

.notification-error {
  border-color: #ff0000;
  color: #ff0000;
}

.notification-warning {
  border-color: #ffaa00;
  color: #ffaa00;
}

/* =====================
   LEVEL UP OVERLAY
===================== */
.level-up-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.level-up-content {
  text-align: center;
  animation: scaleIn 0.5s ease;
}

@keyframes scaleIn {
  from { transform: scale(0.5); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.level-up-title {
  font-size: 4rem;
  text-transform: uppercase;
  letter-spacing: 8px;
  text-shadow:
    0 0 10px var(--nexus-green),
    0 0 20px var(--nexus-green),
    0 0 30px var(--nexus-green),
    0 0 40px var(--nexus-green);
  animation: glow-intense 1s ease-in-out infinite;
}

@keyframes glow-intense {
  0%, 100% {
    text-shadow:
      0 0 10px var(--nexus-green),
      0 0 20px var(--nexus-green),
      0 0 30px var(--nexus-green);
  }
  50% {
    text-shadow:
      0 0 20px var(--nexus-green),
      0 0 40px var(--nexus-green),
      0 0 60px var(--nexus-green);
  }
}

.level-up-stat {
  font-size: 2rem;
  margin-top: 20px;
  color: var(--nexus-green);
}

/* =====================
   YOUTUBE LINKS
===================== */
.youtube-link {
  display: inline-block;
  padding: 6px 12px;
  background: transparent;
  color: var(--nexus-green);
  border: 1px solid var(--nexus-green);
  text-decoration: none;
  font-size: 12px;
  margin-left: 8px;
  transition: var(--transition);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.youtube-link:hover {
  background: var(--nexus-green);
  color: var(--nexus-black);
  box-shadow: var(--nexus-glow);
}

/* =====================
   CHARTS
===================== */
canvas {
  max-width: 100%;
  background: var(--nexus-black);
  border: 2px solid var(--nexus-green-dark);
  padding: 10px;
}

/* =====================
   VISION BOARD
===================== */
.vision-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.vision-card {
  background: var(--nexus-black);
  border: 2px solid var(--nexus-green);
  padding: 20px;
  text-align: center;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
}

.vision-card:hover {
  box-shadow: var(--nexus-glow);
  transform: scale(1.05);
}

.vision-card.achieved {
  border-color: var(--nexus-green);
  box-shadow: var(--nexus-glow-strong);
}

.vision-card.achieved::after {
  content: '✓ ACHIEVED';
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 10px;
  color: var(--nexus-green);
  text-shadow: var(--nexus-text-shadow);
}

/* =====================
   MOBILE RESPONSIVE
===================== */
/* Desktop - hide hamburger, always show nav */
@media (min-width: 769px) {
  .hamburger {
    display: none;
  }

  nav {
    max-height: 500px !important;
    opacity: 1 !important;
    margin-top: 20px !important;
  }
}

/* Mobile - show hamburger, collapsible nav */
@media (max-width: 768px) {
  body {
    padding-bottom: 20px;
  }

  h1 {
    font-size: 1.2rem;
    letter-spacing: 2px;
  }

  h1::before,
  h1::after {
    content: '';
  }

  header {
    position: relative;
    padding: 12px;
  }

  header p {
    font-size: 8px;
    letter-spacing: 1px;
  }

  .hamburger {
    display: flex;
  }

  nav {
    flex-direction: column;
  }

  nav.nav-closed {
    max-height: 0;
    opacity: 0;
    margin-top: 0;
  }

  nav button {
    width: 100%;
    margin-bottom: 4px;
    padding: 8px 16px;
    font-size: 12px;
  }

  .section {
    padding: 12px;
    padding-bottom: 40px;
  }

  .bento-grid {
    grid-template-columns: 1fr;
    padding: 10px;
    gap: 12px;
  }

  .bento-item {
    padding: 12px;
  }

  .bento-large,
  .bento-wide,
  .bento-tall {
    grid-column: span 1;
    grid-row: span 1;
  }

  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }

  .stat-card {
    padding: 12px;
  }

  .stat-value {
    font-size: 2rem;
  }

  .level-up-title {
    font-size: 2rem;
    letter-spacing: 4px;
  }

  .card {
    padding: 12px;
    margin-bottom: 12px;
  }

  h2 {
    font-size: 1.3rem;
  }

  h3 {
    font-size: 1.1rem;
  }

  /* Fix for mobile browser bottom bars */
  .notifications {
    bottom: 80px;
    right: 10px;
    max-width: calc(100% - 20px);
  }
}

/* =====================
   UTILITY CLASSES
===================== */
.text-center {
  text-align: center;
}

.text-dim {
  color: var(--nexus-green-dim);
}

.text-glow {
  text-shadow: var(--nexus-text-shadow);
}

.hidden {
  display: none !important;
}

.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }

.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }

.p-1 { padding: 8px; }
.p-2 { padding: 16px; }
.p-3 { padding: 24px; }

/* =====================
   PERSONAL CODE PERKS
===================== */
.perks-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
}

.perk-card {
  background: var(--nexus-surface);
  border: 2px solid var(--nexus-border);
  border-radius: var(--radius-sm);
  padding: 20px;
  display: flex;
  gap: 16px;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

/* Координатная сетка как на Bento Grid */
.perk-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: radial-gradient(circle, var(--nexus-border-light) 1px, transparent 1px);
  background-size: 16px 16px;
  opacity: 0.3;
  pointer-events: none;
}

/* Заблокирован - серый */
.perk-card.locked {
  opacity: 0.5;
  filter: grayscale(1);
}

/* Доступен - зеленая рамка */
.perk-card.available {
  border-color: var(--nexus-green);
  box-shadow: var(--glow-soft);
}

.perk-card.available:hover {
  transform: translateY(-2px);
  box-shadow: var(--glow-medium);
}

/* Разблокирован - золотое свечение */
.perk-card.unlocked {
  border-color: var(--nexus-amber);
  box-shadow: 0 0 12px rgba(255, 176, 0, 0.4);
  background: linear-gradient(135deg, var(--nexus-surface) 0%, rgba(255, 176, 0, 0.05) 100%);
}

.perk-icon {
  font-size: 48px;
  flex-shrink: 0;
  filter: drop-shadow(0 0 8px currentColor);
}

.perk-info {
  flex: 1;
  position: relative;
  z-index: 1;
}

.perk-name {
  font-size: 14px;
  font-weight: 700;
  color: var(--nexus-green);
  letter-spacing: 2px;
  margin-bottom: 6px;
  text-transform: uppercase;
}

.perk-card.unlocked .perk-name {
  color: var(--nexus-amber);
}

.perk-requirements {
  font-size: 11px;
  color: var(--nexus-text-dim);
  margin-bottom: 8px;
  font-family: var(--font-mono);
}

.perk-description {
  font-size: 12px;
  color: var(--nexus-text);
  line-height: 1.5;
  margin-bottom: 12px;
}

.perk-unlock-btn {
  background: var(--nexus-green);
  color: var(--nexus-void);
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1px;
  cursor: pointer;
  transition: var(--transition);
  text-transform: uppercase;
}

.perk-unlock-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 16px rgba(0, 255, 65, 0.6);
}

.perk-status {
  font-size: 12px;
  color: var(--nexus-amber);
  font-weight: 700;
  letter-spacing: 1px;
}

/* Анимация разблокировки перка */
.perk-unlock-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease;
}

.perk-unlock-overlay.fade-out {
  animation: fadeOut 0.5s ease forwards;
}

.perk-unlock-content {
  background: var(--nexus-black);
  border: 3px solid var(--nexus-amber);
  border-radius: var(--radius);
  padding: 48px;
  text-align: center;
  box-shadow: 0 0 32px rgba(255, 176, 0, 0.6);
  animation: perkUnlockPulse 0.5s ease;
}

.perk-unlock-icon {
  font-size: 96px;
  margin-bottom: 24px;
  animation: perkIconSpin 0.6s ease;
}

.perk-unlock-title {
  font-size: 32px;
  font-weight: 700;
  color: var(--nexus-amber);
  letter-spacing: 4px;
  margin-bottom: 16px;
  text-shadow: 0 0 16px rgba(255, 176, 0, 0.8);
}

.perk-unlock-name {
  font-size: 24px;
  font-weight: 700;
  color: var(--nexus-green);
  letter-spacing: 3px;
  margin-bottom: 16px;
}

.perk-unlock-description {
  font-size: 14px;
  color: var(--nexus-text);
  line-height: 1.6;
  max-width: 400px;
}

@keyframes perkUnlockPulse {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes perkIconSpin {
  0% {
    transform: rotate(-180deg) scale(0);
  }
  100% {
    transform: rotate(0deg) scale(1);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Mobile адаптация для перков */
@media (max-width: 768px) {
  .perks-container {
    grid-template-columns: 1fr;
  }

  .perk-card {
    padding: 16px;
  }

  .perk-icon {
    font-size: 36px;
  }

  .perk-unlock-content {
    padding: 32px 24px;
    margin: 20px;
  }

  .perk-unlock-icon {
    font-size: 64px;
  }

  .perk-unlock-title {
    font-size: 24px;
    letter-spacing: 2px;
  }

  .perk-unlock-name {
    font-size: 18px;
  }
}
