<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="NEXUS OS - Personal Life Operating System">
  <title>NEXUS OS - Life Operating System</title>
  <link rel="stylesheet" href="css/nexus-theme.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- HEADER -->
  <header>
    <h1>NEXUS OS</h1>
    <p style="font-size: 12px; color: var(--nexus-green-dim); margin-top: 8px; letter-spacing: 2px;">
      PERSONAL LIFE OPERATING SYSTEM v1.0.0
    </p>

    <nav>
      <button onclick="showSection('dashboard', event)" class="active">Dashboard</button>
      <button onclick="showSection('workout-program', event)">Program</button>
      <button onclick="showSection('workouts', event)">Workouts</button>
      <button onclick="showSection('meditation', event)">Meditation</button>
      <button onclick="showSection('coding', event)">Coding</button>
      <button onclick="showSection('goals', event)">Goals</button>
      <button onclick="showSection('vision', event)">Vision</button>
      <button onclick="showSection('psych-test', event)">Test</button>
    </nav>
  </header>

  <!-- ========== DASHBOARD SECTION ========== -->
  <section id="dashboard" class="section">
    <h2>SYSTEM OVERVIEW</h2>

    <!-- BENTO GRID -->
    <div class="bento-grid">

      <!-- RPG STATS WIDGET (Wide) -->
      <div class="bento-item bento-wide" data-module="[STAT_SYS_01]">
        <h3>CHARACTER STATS</h3>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-name">STR</div>
            <div class="stat-value" id="stat-str-value">1</div>
            <div class="stat-xp" id="stat-str-xp">0 / 100 XP</div>
            <div class="xp-bar">
              <div class="xp-bar-fill" id="stat-str-bar" style="width: 0%"></div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-name">PER</div>
            <div class="stat-value" id="stat-per-value">1</div>
            <div class="stat-xp" id="stat-per-xp">0 / 100 XP</div>
            <div class="xp-bar">
              <div class="xp-bar-fill" id="stat-per-bar" style="width: 0%"></div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-name">INT</div>
            <div class="stat-value" id="stat-int-value">1</div>
            <div class="stat-xp" id="stat-int-xp">0 / 100 XP</div>
            <div class="xp-bar">
              <div class="xp-bar-fill" id="stat-int-bar" style="width: 0%"></div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-name">WIL</div>
            <div class="stat-value" id="stat-wil-value">1</div>
            <div class="stat-xp" id="stat-wil-xp">0 / 100 XP</div>
            <div class="xp-bar">
              <div class="xp-bar-fill" id="stat-wil-bar" style="width: 0%"></div>
            </div>
          </div>
        </div>
        <p style="font-size: 11px; color: var(--nexus-green-dark); margin-top: 12px; text-align: center;">
          GAIN XP: WORKOUT +10 STR | MEDITATION +15 PER | CODE +20 INT | PSYCH TEST +10 WIL
        </p>
      </div>

      <!-- WEIGHT TRACKER WIDGET -->
      <div class="bento-item" data-module="[BODY_MON_01]">
        <h3>WEIGHT MONITOR</h3>
        <div style="text-align: center; padding: 20px;">
          <div style="font-size: 3rem; font-weight: bold; text-shadow: var(--nexus-glow-strong);" id="current-weight">
            --
          </div>
          <div style="font-size: 12px; color: var(--nexus-green-dim); margin-top: 8px;">
            CURRENT MASS (KG)
          </div>
          <div style="margin-top: 16px; font-size: 14px;" id="weight-change">
            DELTA: --
          </div>
          <button onclick="showSection('workouts', event)" style="margin-top: 16px; width: 100%;">
            ADD WEIGHT DATA
          </button>
        </div>
      </div>

      <!-- ACTIVITY SUMMARY -->
      <div class="bento-item" data-module="[ACT_LOG_01]">
        <h3>ACTIVITY LOG</h3>
        <div style="padding: 10px 0;">
          <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--nexus-green-dark);">
            <span style="color: var(--nexus-green-dim);">WORKOUTS:</span>
            <span id="workout-count" style="font-weight: bold;">0</span>
          </div>
          <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--nexus-green-dark);">
            <span style="color: var(--nexus-green-dim);">MEDITATIONS:</span>
            <span id="meditation-count" style="font-weight: bold;">0</span>
          </div>
          <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--nexus-green-dark);">
            <span style="color: var(--nexus-green-dim);">CODE SESSIONS:</span>
            <span id="code-count" style="font-weight: bold;">0</span>
          </div>
          <div style="display: flex; justify-content: space-between; padding: 12px 0;">
            <span style="color: var(--nexus-green-dim);">ACTIVE GOALS:</span>
            <span id="goals-count" style="font-weight: bold;">0</span>
          </div>
        </div>
      </div>

      <!-- GOALS WIDGET -->
      <div class="bento-item" data-module="[GOAL_TRK_01]">
        <h3>ACTIVE MISSIONS</h3>
        <ul id="dashboard-goals" style="max-height: 200px; overflow-y: auto;">
          <li class="list-item" style="font-size: 12px; padding: 8px; color: var(--nexus-green-dim);">
            NO ACTIVE MISSIONS
          </li>
        </ul>
        <button onclick="showSection('goals', event)" style="margin-top: 12px; width: 100%;">
          MANAGE GOALS
        </button>
      </div>

      <!-- PROGRAM WIDGET (Wide) -->
      <div class="bento-item bento-wide" data-module="[PROG_DAY_01]">
        <h3>TODAY'S TRAINING PROTOCOL</h3>
        <div id="dashboard-program">
          <p style="font-size: 12px; color: var(--nexus-green-dim); text-align: center; padding: 20px;">
            NO SCHEDULED EXERCISES FOR TODAY
          </p>
        </div>
        <button onclick="showSection('workout-program', event)" style="margin-top: 12px; width: 100%;">
          VIEW FULL PROGRAM
        </button>
      </div>

    </div>
  </section>

  <!-- ========== WORKOUT PROGRAM SECTION ========== -->
  <section id="workout-program" class="section" style="display:none" aria-labelledby="program-heading">
    <h2 id="program-heading">TRAINING PROGRAM</h2>

    <div class="card">
      <h3>TUESDAY</h3>
      <ul id="programTuesday" aria-live="polite"></ul>
    </div>

    <div class="card">
      <h3>THURSDAY</h3>
      <ul id="programThursday" aria-live="polite"></ul>
    </div>

    <div class="card">
      <h3>SATURDAY</h3>
      <ul id="programSaturday" aria-live="polite"></ul>
    </div>

    <div class="card">
      <h3>ADD EXERCISE TO PROGRAM</h3>
      <form id="programForm" onsubmit="event.preventDefault(); addProgramExercise();">
        <label for="pDay">DAY OF WEEK</label>
        <select id="pDay" required aria-required="true">
          <option value="Вторник">TUESDAY</option>
          <option value="Четверг">THURSDAY</option>
          <option value="Суббота">SATURDAY</option>
        </select>

        <label for="pExercise">EXERCISE</label>
        <input type="text" placeholder="E.g. Bench Press" id="pExercise" required aria-required="true">

        <label for="pSets">SETS</label>
        <input type="number" placeholder="3" id="pSets" min="1" required aria-required="true">

        <label for="pReps">REPS</label>
        <input type="number" placeholder="10" id="pReps" min="1" required aria-required="true">

        <label for="pWeight">WEIGHT (KG)</label>
        <input type="number" placeholder="50" id="pWeight" min="0" step="0.5" required aria-required="true">

        <label for="pVideo">YOUTUBE LINK</label>
        <input type="url" placeholder="https://youtube.com/watch?v=..." id="pVideo">

        <button type="submit">ADD TO PROGRAM</button>
      </form>
    </div>
  </section>

  <!-- ========== WORKOUTS SECTION ========== -->
  <section id="workouts" class="section" style="display:none" aria-labelledby="workout-heading">
    <h2 id="workout-heading">COMBAT TRAINING LOG</h2>

    <div class="card">
      <canvas id="workoutChart" aria-label="Workout progress chart"></canvas>
    </div>

    <div class="card">
      <h3>ADD WORKOUT</h3>
      <form id="workoutForm" onsubmit="event.preventDefault(); addWorkout();">
        <label for="wDate">DATE</label>
        <input type="date" id="wDate" required aria-required="true">

        <label for="wExercise">EXERCISE</label>
        <input type="text" placeholder="E.g. Bench Press" id="wExercise" required aria-required="true">

        <label for="wSets">SETS</label>
        <input type="number" placeholder="3" id="wSets" min="0">

        <label for="wReps">REPS</label>
        <input type="number" placeholder="10" id="wReps" min="0">

        <label for="wWeight">WEIGHT (KG)</label>
        <input type="number" placeholder="50" id="wWeight" min="0" step="0.5">

        <button type="submit">SAVE WORKOUT</button>
      </form>
    </div>

    <div class="card">
      <h3>WORKOUT HISTORY</h3>
      <ul id="workoutList" aria-live="polite"></ul>
    </div>
  </section>

  <!-- ========== MEDITATION SECTION ========== -->
  <section id="meditation" class="section" style="display:none" aria-labelledby="meditation-heading">
    <h2 id="meditation-heading">DEFRAGMENTATION MODULE</h2>

    <div class="card">
      <canvas id="meditationChart" aria-label="Meditation progress chart"></canvas>
    </div>

    <div class="card">
      <h3>ADD MEDITATION SESSION</h3>
      <form id="meditationForm" onsubmit="event.preventDefault(); addMeditation();">
        <label for="mDate">DATE</label>
        <input type="date" id="mDate" required aria-required="true">

        <label for="mDuration">DURATION (MINUTES)</label>
        <input type="number" placeholder="10" id="mDuration" min="1" required aria-required="true">

        <label for="mNote">NOTES</label>
        <textarea id="mNote" placeholder="How did you feel?" rows="3"></textarea>

        <button type="submit">SAVE SESSION</button>
      </form>
    </div>

    <div class="card">
      <h3>MEDITATION LOG</h3>
      <ul id="meditationList" aria-live="polite"></ul>
    </div>
  </section>

  <!-- ========== CODING SECTION ========== -->
  <section id="coding" class="section" style="display:none" aria-labelledby="coding-heading">
    <h2 id="coding-heading">INT TRAINING</h2>

    <div class="card">
      <canvas id="codingChart" aria-label="Coding progress chart"></canvas>
    </div>

    <div class="card">
      <h3>ADD CODE SESSION</h3>
      <form id="codeForm" onsubmit="event.preventDefault(); addCodeSession();">
        <label for="cDate">DATE</label>
        <input type="date" id="cDate" required aria-required="true">

        <label for="cHours">HOURS</label>
        <input type="number" placeholder="2" id="cHours" min="0.5" step="0.5" required aria-required="true">

        <label for="cProject">PROJECT</label>
        <input type="text" placeholder="E.g. Personal Website" id="cProject" required aria-required="true">

        <label for="cTech">TECHNOLOGIES</label>
        <input type="text" placeholder="E.g. React, Node.js" id="cTech">

        <button type="submit">SAVE SESSION</button>
      </form>
    </div>

    <div class="card">
      <h3>CODE SESSION LOG</h3>
      <ul id="codeList" aria-live="polite"></ul>
    </div>
  </section>

  <!-- ========== GOALS SECTION ========== -->
  <section id="goals" class="section" style="display:none" aria-labelledby="goals-heading">
    <h2 id="goals-heading">MISSION OBJECTIVES</h2>

    <div class="card">
      <h3>ADD NEW GOAL</h3>
      <form id="goalForm" onsubmit="event.preventDefault(); addGoal();">
        <label for="gGoal">GOAL</label>
        <input type="text" placeholder="E.g. Lose 10kg" id="gGoal" required aria-required="true">

        <label for="gDeadline">TARGET DATE</label>
        <input type="date" id="gDeadline" required aria-required="true">

        <button type="submit">ADD GOAL</button>
      </form>
    </div>

    <div class="card">
      <h3>ACTIVE GOALS</h3>
      <ul id="goalList" aria-live="polite"></ul>
    </div>

    <div class="card">
      <h3>ACHIEVEMENTS</h3>
      <ul id="achievementList" aria-live="polite"></ul>
    </div>
  </section>

  <!-- ========== VISION BOARD SECTION ========== -->
  <section id="vision" class="section" style="display:none" aria-labelledby="vision-heading">
    <h2 id="vision-heading">VISION MAP</h2>

    <div class="vision-grid" id="visionGrid">
      <!-- Vision cards will be rendered here -->
    </div>
  </section>

  <!-- ========== PSYCHOLOGICAL TEST SECTION ========== -->
  <section id="psych-test" class="section" style="display:none" aria-labelledby="test-heading">
    <h2 id="test-heading">PSYCHOLOGICAL DIAGNOSTIC</h2>

    <div class="card">
      <h3>DEPRESSION SCREENING (PHQ-9)</h3>
      <p style="color: var(--nexus-green-dim); font-size: 12px; margin-bottom: 16px;">
        Answer questions about how you've been feeling over the last 2 weeks.
      </p>

      <form id="depressionTestForm">
        <div style="margin-bottom: 20px;">
          <label>1. Little interest or pleasure in doing things?</label>
          <div style="display: flex; gap: 16px; margin-top: 8px;">
            <label><input type="radio" name="q1" value="0" required> Not at all</label>
            <label><input type="radio" name="q1" value="1"> Several days</label>
            <label><input type="radio" name="q1" value="2"> More than half</label>
            <label><input type="radio" name="q1" value="3"> Nearly every day</label>
          </div>
        </div>

        <!-- Additional questions would go here - keeping it short for MVP -->

        <button type="button" onclick="calculateTestResult()">ANALYZE RESULTS</button>
      </form>

      <div id="testResult" style="margin-top: 20px; padding: 20px; border: 2px solid var(--nexus-green); display: none;">
        <h3>DIAGNOSTIC RESULT</h3>
        <div id="testResultContent"></div>
      </div>
    </div>
  </section>

  <!-- Scripts -->
  <script src="js/storage.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/stats.js"></script>
  <script src="js/app.js"></script>

</body>
</html>
